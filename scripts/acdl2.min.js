function e(...t){const a=e=>e&&"object"==typeof e;return t.reduce(((t,n)=>{for(const o in n){const i=t[o],r=n[o];Array.isArray(i)&&Array.isArray(r)?t[o]=r:a(i)&&a(r)?t[o]=e(i,r):null==r?delete t[o]:t[o]=r}return t}),{})}function t(e,t){const a=t.split(".");let n=e;for(let e of a)if(n=n[e],void 0===n)return;return n}function a(e,a,n){if("adobeDataLayer:change"===e){let e=window.adobeDataLayer.filter((e=>"function"!=typeof e&&!e.event));return n&&n.path&&(e=e.filter((e=>void 0!==t(e,n.path)))),void e.forEach((e=>a(e)))}let o=window.adobeDataLayer.filter((e=>"function"!=typeof e&&e.event));"adobeDataLayer:event"!==e&&(o=o.filter((t=>t.event===e))),o.forEach((e=>{const t=window.adobeDataLayer.getState(null,0,{until:e});a(e,t)}))}function n(e){let a=[],n={};e.event?(a.push(...window.adobeDataLayer._eventListeners["adobeDataLayer:event"]||[]),a.push(...window.adobeDataLayer._eventListeners[e.event]||[]),n=window.adobeDataLayer.getState()):a.push(...window.adobeDataLayer._eventListeners["adobeDataLayer:change"]||[]),a.forEach((a=>{a.options&&a.options.path&&!t(e,a.options.path)||a.handler(e,n)}))}window.adobeDataLayer._eventListeners={},window.adobeDataLayer.getState=function(a,n,o={}){const{flatten:i=!0,addEvents:r=!1,until:d}=o;let s=[];if("past"!==n||window.acdlDisableStorage)if(isNaN(n)||window.acdlDisableStorage)if(Array.isArray(n)&&2===n.length&&n.every((e=>!isNaN(e)))&&!window.acdlDisableStorage){let e=[];for(let t=n[0];t<=n[1];t++)e.push(window.acdlIndex+t);e.forEach((e=>{s.push(JSON.parse(window.sessionStorage.getItem(`acdl:${e}`))||[])}))}else s.push(window.adobeDataLayer.filter((e=>"function"!=typeof e)));else{const e=window.acdlIndex+n;s.push(JSON.parse(window.sessionStorage.getItem(`acdl:${e}`))||[])}else{Object.keys(window.sessionStorage).filter((e=>e.startsWith("acdl:"))).filter((e=>e!==`acdl:${window.acdlIndex}`)).sort(((e,t)=>e.localeCompare(t,"en",{numeric:!0}))).forEach((e=>{s.push(JSON.parse(window.sessionStorage.getItem(e)))}))}s=i?[s.flat()]:s;const w=s.map((n=>{let o={};for(let t of n)if(o=e(o,t),d&&JSON.stringify(t)===JSON.stringify(d))break;return delete o.event,delete o.eventInfo,r&&(o.events=n.filter((e=>e.event))),a?t(o,a):o})).filter((e=>void 0!==e));return 1===w.length?w[0]:w},window.adobeDataLayer.addEventListener=function(e,t,n){window.adobeDataLayer._eventListeners[e]=(window.adobeDataLayer._eventListeners[e]||[]).concat({handler:t,options:n}),a(e,t,n)},window.adobeDataLayer.removeEventListener=function(e,t){window.adobeDataLayer._eventListeners[e]=(window.adobeDataLayer._eventListeners[e]||[]).filter((e=>e.handler!==t))};const o=window.adobeDataLayer.push;window.adobeDataLayer.push=function(...e){e.filter((e=>"function"==typeof e)).forEach((function(e){e(this)}),window.adobeDataLayer);const t=e.filter((e=>"function"!=typeof e));o(...t),t.forEach((e=>n(e)))},window.adobeDataLayer.forEach((function(e){"function"==typeof e&&e(this)}),window.adobeDataLayer),window.adobeDataLayer.forEach(((e,t)=>"function"==typeof e&&window.adobeDataLayer.splice(t,1)));