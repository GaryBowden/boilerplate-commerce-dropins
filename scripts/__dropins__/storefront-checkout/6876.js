export const id=6876;export const ids=[6876,9772];export const modules={9772:(e,r,t)=>{t.r(r),t.d(r,{default:()=>a});var n,i=t(9064);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},o.apply(this,arguments)}const a=function(e){return i.createElement("svg",o({width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n||(n=i.createElement("path",{d:"M7.745 9.877 12 14.132l4.255-4.255",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"square",strokeLinejoin:"round"})))}},3728:(e,r,t)=>{t.d(r,{W:()=>f,K:()=>p});var n=t(8884),i=t(5092),o=["className","fullWidth","lines","size","variant","children","multilineGap"],a=["className","children","rowGap"];function l(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function c(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?l(Object(t),!0).forEach((function(r){s(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function s(e,r,t){var n;return(r="symbol"==typeof(n=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(r,"string"))?n:String(n))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function u(e,r){if(null==e)return{};var t,n,i=function(e,r){if(null==e)return{};var t,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||(i[t]=e[t]);return i}(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var d=1,p=e=>{var{className:r,fullWidth:t=!1,lines:a=d,size:l="small",variant:s="row",children:p=null,multilineGap:f="medium"}=e,v=u(e,o),b=[["dropin-skeleton-row__".concat(s),s],["dropin-skeleton-row__".concat(s,"-").concat(l),s&&l]];if(!p&&"empty"===s)return(0,i.jsx)("div",{className:(0,n.i)(["dropin-skeleton-row dropin-skeleton-row__empty",r])});if(p){var m=p.trim();return(0,i.jsx)("div",c(c({},v),{},{class:(0,n.i)(["dropin-skeleton-row",["dropin-skeleton-row--full",t],r]),dangerouslySetInnerHTML:{__html:m}}))}return!1===a>d?(0,i.jsx)("div",c(c({},v),{},{class:(0,n.i)(["dropin-skeleton-row",["dropin-skeleton-row--full",t],"dropin-skeleton--row__content",...b,r])})):(0,i.jsx)("div",c(c({},v),{},{style:{"--multiline-gap-spacing":"var(--spacing-".concat(f,")")},class:(0,n.i)(["dropin-skeleton-row--multiline",["dropin-skeleton-row--full",t],r]),children:Array.from({length:a}).map(((e,r)=>(0,i.jsx)("div",{class:(0,n.i)(["dropin-skeleton-row",["dropin-skeleton-row--full",t],"dropin-skeleton--row__content",...b])},r)))}))},f=e=>{var{className:r,children:t,rowGap:o="medium"}=e,l=u(e,a);return(0,i.jsx)("div",c(c({style:{"--row-gap-spacing":"var(--spacing-".concat(o,")")}},l),{},{className:(0,n.i)(["dropin-skeleton",r]),role:"status","aria-label":"Loading...",children:t}))}},6444:(e,r,t)=>{t.d(r,{i:()=>De});var n=t(2740),i=t(3728),o=t(5092);function a(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function l(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?a(Object(t),!0).forEach((function(r){c(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function c(e,r,t){var n;return(r="symbol"==typeof(n=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(r,"string"))?n:String(n))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var s=e=>(0,o.jsxs)(i.W,l(l({},e),{},{children:[(0,o.jsx)(i.K,{variant:"heading",size:"medium"}),(0,o.jsx)(i.K,{variant:"empty",size:"medium"}),(0,o.jsx)(i.K,{size:"large"}),(0,o.jsx)(i.K,{size:"large"}),(0,o.jsx)(i.K,{size:"large",fullWidth:!0}),(0,o.jsx)(i.K,{size:"large",fullWidth:!0,lines:3}),(0,o.jsx)(i.K,{size:"large"}),(0,o.jsx)(i.K,{size:"large"}),(0,o.jsx)(i.K,{size:"large"}),(0,o.jsx)(i.K,{size:"large"}),(0,o.jsx)(i.K,{size:"large"}),(0,o.jsx)(i.K,{size:"large"}),(0,o.jsx)(i.K,{size:"large"})]})),u=t(5328),d=t(2720);function p(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function f(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?p(Object(t),!0).forEach((function(r){v(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function v(e,r,t){var n;return(r="symbol"==typeof(n=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(r,"string"))?n:String(n))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var b={countryCode:"country_id",region:"region",postCode:"postcode"};var m=t(4540),g=t(8122);function y(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function O(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?y(Object(t),!0).forEach((function(r){h(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):y(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function h(e,r,t){var n;return(r="symbol"==typeof(n=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(r,"string"))?n:String(n))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var j={badInput:"aria-label",patternMismatch:"aria-label",rangeOverflow:"max",rangeUnderflow:"min",tooLong:"maxlength",tooShort:"minlength",typeMismatch:"aria-label",valueMissing:"aria-label"},w=["badInput","patternMismatch","rangeOverflow","rangeUnderflow","tooLong","tooShort","typeMismatch","valueMissing"];function P(e){return 0===Object.keys(e).length&&e.constructor===Object}var S=t(8300);function E(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function _(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?E(Object(t),!0).forEach((function(r){x(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):E(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function x(e,r,t){var n;return(r="symbol"==typeof(n=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(r,"string"))?n:String(n))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var k=e=>{var r=new FormData(e),t=Object.fromEntries(r);return Object.entries(t).reduce(((r,t)=>{var[n]=t,i=e.elements[n];return null!=i&&i.validationMessage?_(_({},r),{},{[n]:i.validationMessage}):_({},r)}),{})};function F(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function D(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?F(Object(t),!0).forEach((function(r){A(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):F(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function A(e,r,t){var n;return(r="symbol"==typeof(n=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(r,"string"))?n:String(n))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var I=e=>{var{formRef:r,type:t,defaultValues:n={},preselection:i={},saveAddressHandler:o}=e,a=(0,S.cF)({badInput:"Checkout.AddressForm.Validity.badInput",patternMismatch:"Checkout.AddressForm.Validity.patternMismatch",rangeUnderflow:"Checkout.AddressForm.Validity.rangeUnderflow",tooLong:"Checkout.AddressForm.Validity.tooLong",tooShort:"Checkout.AddressForm.Validity.tooShort",typeMismatch:"Checkout.AddressForm.Validity.typeMismatch",valueMissing:"Checkout.AddressForm.Validity.valueMissing"}),l=(0,d.useRef)(!1),[c,s]=(0,d.useState)({}),{addressBackup:p,backup:f,removeBackup:v}=function(e){var{key:r}=e,{backupService:t}=(0,m.AJ)(),[n,i]=(0,d.useState)(null);return(0,d.useEffect)((()=>{var e=t.restore(r);e&&i(e)}),[r,t]),(0,d.useEffect)((()=>{var e=g.events.on("checkout/order",(()=>{t.remove(r)}));return()=>{null==e||e.off()}}),[r,t]),{addressBackup:n,backup:(0,d.useCallback)((e=>setTimeout((()=>{t.backup(r,e)}),u.sr)),[r,t]),removeBackup:(0,d.useCallback)((()=>{t.remove(r)}),[r,t])}}({key:t}),{errors:b,validateFormElement:y}=(e=>{var[r,t]=(0,d.useState)({});return{errors:r,validateFormElement:(0,d.useCallback)((r=>{var{name:n,validity:i,validationMessage:o}=r,a=i.valid?"":o;w.forEach((t=>{if(i[t]){var n=e[t];if(n){var o=j[t];a=n.replace("{field}",r.getAttribute(o)||"")}}})),t((e=>O(O({},e),{},{[n]:a})))}),[e])}})(a),h=(0,d.useCallback)((e=>{l.current=!1,o(e).then((()=>{v()})).catch((e=>{l.current=!0,console.error("Saving address form failed:",e)}))}),[v,o]),E=(e,r)=>{s((t=>D(D({},t),{},{[e]:r}))),l.current=!0};return(0,d.useEffect)((()=>{s((e=>D(D(D(D({},n),i),p),e)))}),[n,i,p]),(0,d.useEffect)((()=>{if(l.current){var e=f(c);return()=>{clearTimeout(e)}}}),[c,f]),(0,d.useEffect)((()=>{if(l.current&&(e=>{var r=e.current;return!!r&&P(k(r))})(r)){var e=new AbortController,t=e.signal,n=setTimeout((()=>{h({signal:t,address:c})}),u.sr);return()=>{clearTimeout(n),e.abort()}}}),[c,r,h]),{address:c,setAddress:s,errors:b,onChange:e=>{var r=e.target,{name:t,value:n}=r;E(t,n),y(r)},onSelection:e=>{var r=e.target,{name:t,value:n}=r;E(t,n),y(r)},onBlur:e=>{e.target.checkValidity()},onInvalid:e=>{var r=e.target;y(r)}}},T=t(8884),C=t(5912);function N(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function M(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?N(Object(t),!0).forEach((function(r){R(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):N(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function R(e,r,t){var n;return(r="symbol"==typeof(n=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(r,"string"))?n:String(n))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var z=e=>e.reduce(((e,r)=>{switch(r.name){case C.aq.DateRangeMax:return M(M({},e),{},{max:r.value});case C.aq.DateRangeMin:return M(M({},e),{},{min:r.value});case C.aq.FileExtensions:return M(M({},e),{},{accept:r.value});case C.aq.InputValidation:return M(M({},e),{},{pattern:q(r.value)});case C.aq.MaxFileSize:case C.aq.MaxImageHeight:case C.aq.MaxImageWidth:return e;case C.aq.MaxTextLength:return M(M({},e),{},{maxLength:r.value});case C.aq.MinTextLength:return M(M({},e),{},{minLength:r.value});default:throw new Error("Unknown rule: ".concat(r.name))}}),{}),L={alpha:/^[a-zA-Z]+$/,alphanumeric:/^[a-zA-Z0-9]+$/,"alphanumeric-w-space":/^[a-zA-Z0-9 ]+$/,"alphanum-with-spaces":/^[a-zA-Z0-9 ]+$/,email:/^([a-z0-9,!#$%&'*+/=?^_`{|}~-]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z0-9,!#$%&'*+/=?^_`{|}~-]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*@([a-z0-9-]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z0-9-]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*\.(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]){2,})$/i,numeric:/^[0-9]+$/,url:/^((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=+$,\w]+@)?[A-Za-z0-9.-]+|(?:www\.|[-;:&=+$,\w]+@)[A-Za-z0-9.-]+)((?:\/[+~%/.\w\-_]*)?\??(?:[-+=&;%@.\w_]*)#?(?:[.!/\\\w]*))?)$/},q=e=>{switch(e){case"alpha":return L.alpha.source;case"alphanumeric":return L.alphanumeric.source;case"alphanumeric-w-space":return L["alphanumeric-w-space"].source;case"alphanum-with-spaces":return L["alphanum-with-spaces"].source;case"url":return L.url.source;case"numeric":return L.numeric.source;case"email":return L.email.source;default:throw new Error("Unknown validation type: ".concat(e))}};const B={firstname:"given-name",lastname:"family-name",company:"organization",country:"country",region:"address-level1",city:"address-level2",postcode:"postal-code",telephone:"tel",street:"address-line1",email:"email",middlename:"additional-name",prefix:"honorific-prefix",suffix:"honorific-suffix"};var K=t(9820),U=t(9228),V=t(5180),W=t(9772),$=t(6528),G=["name","value","options","variant","floatingLabel","size","handleSelect","disabled","error","placeholder","defaultOption","icon","className"];function H(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function Z(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?H(Object(t),!0).forEach((function(r){X(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):H(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function X(e,r,t){var n;return(r="symbol"==typeof(n=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(r,"string"))?n:String(n))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Y(e,r){if(null==e)return{};var t,n,i=function(e,r){if(null==e)return{};var t,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||(i[t]=e[t]);return i}(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var J=e=>{var r,{name:t,value:n=null,options:i,variant:a="primary",floatingLabel:l,size:c="medium",handleSelect:s=(()=>{}),disabled:u=!1,error:p=!1,placeholder:f,defaultOption:v,icon:b,className:m}=e,g=Y(e,G),y=(null==g?void 0:g.id)||t||"dropin-picker-".concat(Math.random().toString(36)),O=null==i?void 0:i.find((e=>!e.disabled)),[h,j]=(0,$.useState)({value:n,text:(null==v?void 0:v.text)||f||(null==O?void 0:O.text),icon:b});(0,$.useEffect)((()=>{var e=null==i?void 0:i.find((e=>e.value===n));j(null!=e?e:{value:(null==v?void 0:v.value)||(f||l?null:null==O?void 0:O.value),text:(null==v?void 0:v.text)||f||(null==O?void 0:O.text),icon:b})}),[n,i,f,b,v,l]);var w=null==i?void 0:i.map((e=>{var{value:r,text:t,disabled:n}=e,i=r===h.value;return(0,o.jsx)("option",{value:r,selected:i,disabled:n,className:(0,T.i)(["dropin-picker__option"]),children:t},r)})),P=(0,d.useRef)(null),S=!(null!==(r=P.current)&&void 0!==r&&r.selected&&!v);return(0,o.jsxs)("div",{className:(0,T.i)([m,"dropin-picker","dropin-picker__".concat(c),["dropin-picker__floating",!!l],["dropin-picker__selected",S],["dropin-picker__error",p],["dropin-picker__disabled",u],["dropin-picker__icon",b]]),children:[b&&(0,o.jsx)(b.type,Z(Z({},b.props),{},{className:"dropin-picker__icon--placeholder"})),(0,o.jsxs)("select",Z(Z({id:y,className:(0,T.i)(["dropin-picker__select","dropin-picker__select--".concat(a),"dropin-picker__select--".concat(c),["dropin-picker__select--floating",!!l]]),name:t,"aria-label":t,disabled:u,onChange:e=>{var{options:r,value:t}=e.target;for(var n of r)n.selected&&(j({value:t,text:n.text,icon:b}),s(e))}},g),{},{children:[!v&&(l||f)&&(0,o.jsx)("option",{value:"",ref:P,className:(0,T.i)(["dropin-picker__option dropin-picker__placeholder"]),children:null!=l?l:f},n),w]})),(0,o.jsx)(V.G,{source:W.default,size:"24",stroke:"2",className:"dropin-picker__chevronDown"}),l&&S&&(0,o.jsx)("label",{htmlFor:y,className:(0,T.i)(["dropin-picker__floatingLabel",!!l]),children:l})]})};function Q(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function ee(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Q(Object(t),!0).forEach((function(r){re(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Q(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function re(e,r,t){var n;return(r="symbol"==typeof(n=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(r,"string"))?n:String(n))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var te=e=>{switch(e.frontend_input){case"BOOLEAN":case"DATE":case"DATETIME":case"FILE":case"GALLERY":case"IMAGE":case"MEDIA_IMAGE":case"MULTISELECT":case"PRICE":case"TEXTAREA":case"UNDEFINED":case"WEIGHT":return null;case"HIDDEN":return(e=>{var{id:r,addressType:t,className:n,code:i,value:a,default_value:l}=e,c=r||i;return(0,o.jsx)("input",{className:n,id:"".concat(t,"-").concat(c),name:i,type:"hidden",value:null!=a?a:l},i)})(e);case"TEXT":return(e=>{var{addressType:r,className:t,code:n,error:i,id:a,onBlur:l,onChange:c,onInvalid:s,validate_rules:u,value:d}=e,p=z(u),f=a||n;return(0,o.jsx)(K.I,{disabled:e.disabled,error:i,children:(0,o.jsx)(U.E,ee({"aria-label":e.label,autocomplete:B[n]||"off",className:t,floatingLabel:"".concat(e.label," ").concat(e.is_required?"*":""),id:"".concat(r,"-").concat(f),onBlur:l,onChange:c,onInvalid:s,placeholder:e.label,required:e.is_required||!1,type:"text",name:n,value:null!=d?d:void 0},p))})})(e);case"MULTILINE":return(e=>{var{addressType:r,className:t,code:n,disabled:i,error:a,id:l,is_required:c,label:s,multiline_count:u,onBlur:d,onChange:p,onInvalid:f,validate_rules:v,value:b}=e,m=null!=u?u:0,g=l||n,y=z(v);return(0,o.jsx)(o.Fragment,{children:Array.from(Array(m).keys()).map((e=>(0,o.jsx)(K.I,{disabled:i,error:(null==a?void 0:a[e])||"",className:"dropin-field--multiline",children:(0,o.jsx)(U.E,ee({id:"".concat(r,"-").concat(g,"-").concat(e),className:t,floatingLabel:"".concat(s," ").concat(0!=e?e:""," ").concat(c&&0===e?"*":""),autocomplete:0===e?B[n]:"off","aria-label":s,placeholder:"".concat(s," ").concat(0!=e?e:""),type:"text",required:c&&0===e,onChange:p,onBlur:d,onInvalid:f,name:"".concat(n,"-").concat(e),value:(null==b?void 0:b[e])||void 0},y))},"".concat(n,"-").concat(e))))})})(e);case"SELECT":return(e=>{var r,{addressType:t,className:n,code:i,disabled:a,error:l,handleSelect:c,id:s,is_required:u,label:d,onBlur:p,onInvalid:f,options:v,value:b}=e,m=s||i,g=c?{handleSelect:c}:{};return(0,o.jsx)(K.I,{disabled:a,error:l,children:(0,o.jsx)(J,ee({id:"".concat(t,"-").concat(m),className:n,name:i,floatingLabel:"".concat(d," ").concat(u?"*":""),required:u,placeholder:d,"aria-label":d,options:null!==(r=null==v?void 0:v.map((e=>({text:e.label,value:e.value}))))&&void 0!==r?r:[],value:b,autocomplete:B[i]||"off",onBlur:p,onInvalid:f},g),i)})})(e);default:throw new Error("Unknown field type: ".concat(e.frontend_input))}},ne=t(3496),ie=["className","name","headingId","formRef","fields"];function oe(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function ae(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?oe(Object(t),!0).forEach((function(r){le(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):oe(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function le(e,r,t){var n;return(r="symbol"==typeof(n=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(r,"string"))?n:String(n))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function ce(e,r){if(null==e)return{};var t,n,i=function(e,r){if(null==e)return{};var t,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||(i[t]=e[t]);return i}(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var se,ue=e=>{var{className:r,name:t,headingId:n,formRef:i,fields:a}=e,l=ce(e,ie);return(0,o.jsxs)("div",ae(ae({},l),{},{className:(0,T.i)(["checkout-fields-form",r]),children:[(0,o.jsx)(ne._,{level:2,children:(0,o.jsx)(S.a,{id:n}),className:"checkout-fields-form__title"}),(0,o.jsx)("form",{name:t,ref:i,className:(0,T.i)(["checkout-fields-form__form",r]),noValidate:!0,children:a.sort(((e,r)=>e.sort_order-r.sort_order)).map(te)})]}))},de=t(2236),pe=t(5020),fe=t(2256),ve=t(5668),be=t(3644),me=t(3980),ge=t(1988);function ye(e){var r,t=ve.cartSignal.value.data,n=!!t,i=null==t||null===(r=t.shippingAddresses)||void 0===r?void 0:r[0],o=null==i?void 0:i.availableShippingMethods;n&&!o&&(clearTimeout(se),se=setTimeout((()=>{(0,ge.Y)({cartId:t.id,criteria:e})}),u.sr))}function Oe(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function he(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Oe(Object(t),!0).forEach((function(r){je(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Oe(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function je(e,r,t){var n;return(r="symbol"==typeof(n=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(r,"string"))?n:String(n))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var we=function(e){return e.Country="country_id",e.Region="region",e.RegionId="region_id",e}({});function Pe(e){var{fields:r,address:t,setAddress:n,addressType:i,errors:o,config:a,availableCountries:l,availableRegions:c,onSelection:s,onChange:u,onBlur:d,onInvalid:p}=e,f=e=>{var r=c.find((r=>r.value===e));return r&&r.id?r.id.toString():""},v=e=>{n((r=>he(he({},r),{},{[we.RegionId]:e})))};return r.map((e=>{var r,b,m,g=e.is_required,y=e.frontend_input,O=e.options,h=!1;if("MULTILINE"===y?(r=(0,me.C)(e.code,t),b=(0,me.C)(e.code,o)):(r=t[e.code],b=o[e.code]||""),e.code===we.Country&&(e.options=l,"shipping_addresses"===i?(be.regionsSignal.value.country=r,m=e=>{var r=e.target,{value:t}=r;t&&ye({country_code:t}),s(e),n((e=>he(he({},e),{},{[we.Region]:"",[we.RegionId]:""})))}):m=s),e.code===we.RegionId&&"shipping_addresses"===i&&(be.regionsSignal.value.selectedRegionId=r),e.code===we.Region){var j;if(i===be.regionsSignal.value.addressType&&(h=be.regionsSignal.value.pending),g=a.countriesWithRequiredRegion.includes(null==t?void 0:t.country_id),O=c,g||a.displayStateIfOptional||(y=C.oR.Undefined),"SELECT"===(y=O.length>0?C.oR.Select:C.oR.Text))"shipping_addresses"===i?(be.regionsSignal.value.selectedRegion=r,m=e=>{var r=e.target.value,t=f(r),n=(e=>{var r=c.find((r=>r.value===e));return(null==r?void 0:r.value)||""})(r);ye({country_code:be.regionsSignal.value.country,region_name:n,region_id:t}),s(e),v(t)}):m=e=>{s(e);var r=e.target.value,t=f(r);v(t)};else if("TEXT"===y&&"shipping_addresses"===i){be.regionsSignal.value.selectedRegion=r;var w=u;u=e=>{var r=e.target,{value:t}=r;be.regionsSignal.value.country&&ye({country_code:be.regionsSignal.value.country,region_name:t}),w(e)}}r=O.length>0?(null===(j=O.find((e=>e.value===r)))||void 0===j?void 0:j.value)||"":r}return"postcode"===e.code&&(g=!a.countriesWithOptionalZipCode.includes(null==t?void 0:t.country_id)),he(he({},e),{},{is_required:g,frontend_input:y,addressType:i,className:"checkout-address-form__".concat(e.code),value:r,options:O,error:b,onChange:u,onBlur:d,onInvalid:p,handleSelect:m,disabled:h})}))}var Se=["name","preselectedFields","addressType","headingId","saveAddressHandler","children","shouldAutoFillForm"];function Ee(e,r){if(null==e)return{};var t,n,i=function(e,r){if(null==e)return{};var t,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||(i[t]=e[t]);return i}(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function _e(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function xe(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?_e(Object(t),!0).forEach((function(r){ke(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_e(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function ke(e,r,t){var n;return(r="symbol"==typeof(n=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(r,"string"))?n:String(n))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Fe(e){var{shouldAutoFillForm:r,addressType:t,setAddress:n,fields:i}=e,[o,a]=(0,$.useState)(!1),l=ve.cartSignal.value.data;(0,$.useEffect)((()=>{var e;if(!o&&(l&&i)){a(!0);var c="shipping_addresses"===t?null==l?void 0:l.shippingAddresses:null==l?void 0:l.billingAddress;if((Array.isArray(c)?c.length>0:!!c)&&(!r||r())){var s=Array.isArray(c)?c[0]:c,d={firstname:s.firstName,lastname:s.lastName,telephone:s.telephone,city:s.city,company:s.company,postcode:s.postCode,region:s.region.code,country_id:s.country.value,vat_id:s.vatId},p=null==s||null===(e=s.region)||void 0===e?void 0:e.id;p&&(d.regionId=p.toString()),null!=s&&s.street&&s.street.length>0&&s.street.forEach(((e,r)=>{d["street".concat(u.Mp).concat(r)]=e})),((null==s?void 0:s.customAttributes)||[]).forEach((e=>{(e=>{if(!i)return!1;var r=i.find((r=>r.code===e));return!!r&&"MULTILINE"===r.frontend_input})(e.code)?e.value.split(u.EF).forEach(((r,t)=>{d["".concat(e.code).concat(u.Mp).concat(t)]=r})):d[e.code]=e.value})),n(d)}}}),[n,r,t,l,i,o])}var De=(0,$.forwardRef)(((e,r)=>{var{name:t,preselectedFields:i,addressType:a,headingId:l,saveAddressHandler:c,children:u,shouldAutoFillForm:p}=e,v=Ee(e,Se),{fields:m}=(0,de.q)(),{countries:g}=(0,pe.o)(),y=void 0===g,O=void 0===m,{config:h}=(0,fe.o3)(),j=void 0===h,{defaultValues:w}=function(e){var[r,t]=(0,$.useState)({});return(0,$.useEffect)((()=>{e&&t((r=>xe(xe({},r),{},{country_id:e})))}),[e]),{defaultValues:r}}(null==h?void 0:h.defaultCountry),{preselection:S}=function(e){var{fields:r,preselectedFields:t}=e;return{preselection:(0,d.useMemo)((()=>r&&r.length>0&&t?Object.keys(t).reduce(((e,n)=>{var i=b[n];return i&&r.some((e=>e.code===i))?f(f({},e),{},{[i]:t[n]}):e}),{}):null),[r,t])}}({fields:m,preselectedFields:i}),E=(0,$.useRef)(null),{address:_,setAddress:x,onSelection:F,errors:D,onChange:A,onInvalid:T,onBlur:C}=I({formRef:E,type:a,defaultValues:w,preselection:S,saveAddressHandler:c}),{availableRegions:N}=function(e){var{country:r,addressType:t}=e,[i,o]=(0,$.useState)([]);return(0,$.useEffect)((()=>{r?(0,n.i)(r,t).then((e=>{var r,t=null!==(r=null==e?void 0:e.map((e=>({id:e.id,label:e.name,value:e.code,is_default:!1}))))&&void 0!==r?r:[];o(t)})).catch((e=>{console.error(e)})):o([])}),[o,r,t]),{availableRegions:i}}({country:_.country_id,addressType:a});if((0,$.useImperativeHandle)(r,(()=>({triggerSaveAddress:e=>{if(E.current&&P(k(E.current)))return c({signal:e,address:_})}}))),Fe({shouldAutoFillForm:p,addressType:a,setAddress:x,fields:m}),O||y||j)return(0,o.jsx)(s,{"data-testid":"".concat(a,"-skeleton")});var M=Pe({fields:m,address:_,setAddress:x,addressType:a,errors:D,config:h,availableCountries:g,availableRegions:N,onSelection:F,onChange:A,onBlur:C,onInvalid:T}),R={shipping_addresses:"shipping",billing_address:"billing"};return(0,o.jsx)(ue,xe(xe({},v),{},{"data-testid":"".concat(R[a],"-form"),name:t,className:"checkout-".concat(R[a],"-form"),headingId:l,formRef:E,fields:M}))}))},2236:(e,r,t)=>{t.d(r,{Y:()=>c,q:()=>s});var n=t(7320),i=t(2720),o=t(1212),a=t(5092),l=(0,n.createContext)(void 0);function c(e){var{children:r}=e,[t,n]=(0,i.useState)({});return(0,i.useEffect)((()=>{(0,o.m)().then((e=>n({fields:e})))}),[]),(0,a.jsx)(l.Provider,{value:t,children:r})}function s(){var e=(0,i.useContext)(l);if(void 0!==e)return e;throw new Error("useAddressFormFields must be used within an AddressFormFieldsProvider")}},5020:(e,r,t)=>{t.d(r,{W:()=>c,o:()=>s});var n=t(7320),i=t(2720),o=t(152),a=t(5092),l=(0,n.createContext)(void 0);function c(e){var{children:r}=e,[t,n]=(0,i.useState)({});return(0,i.useEffect)((()=>{(0,o.K)().then((e=>n({countries:e})))}),[]),(0,a.jsx)(l.Provider,{value:t,children:r})}function s(){var e=(0,i.useContext)(l);if(void 0!==e)return e;throw new Error("useCountries must be used within a CountriesProvider")}},4540:(e,r,t)=>{t.d(r,{AJ:()=>c,mA:()=>l});var n=t(7320),i=t(2720),o=t(5092),a=(0,n.createContext)({});function l(e){var{children:r,services:t}=e;return(0,o.jsx)(a.Provider,{value:t,children:r})}function c(){var e=(0,i.useContext)(a);if(void 0!==e)return e;throw new Error("useServices must be used within a ServicesProvider")}},9488:(e,r,t)=>{t.d(r,{isBillToShippingSignal:()=>n});var n=(0,t(1520).OC)({checked:!0,setByUser:!1})}};