import*as t from"@dropins/tools/event-bus.js";import*as e from"@dropins/tools/fetch-graphql.js";import*as n from"@dropins/tools/preact-compat.js";import*as r from"@dropins/tools/preact-hooks.js";import*as o from"@dropins/tools/preact-jsx-runtime.js";import*as i from"@dropins/tools/preact.js";export const id=9160;export const ids=[9160];export const modules={9064:(t,e,n)=>{n.d(e,{createElement:()=>r.createElement});var r=n(7320),o=n(2720);function i(t,e){for(var n in e)t[n]=e[n];return t}function a(t,e){for(var n in t)if("__source"!==n&&!(n in e))return!0;for(var r in e)if("__source"!==r&&t[r]!==e[r])return!0;return!1}function s(t,e){this.props=t,this.context=e}(s.prototype=new r.Component).isPureReactComponent=!0,s.prototype.shouldComponentUpdate=function(t,e){return a(this.props,t)||a(this.state,e)};var l=r.options.__b;r.options.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),l&&l(t)};"undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref");var u=function(t,e){return null==t?null:(0,r.toChildArray)((0,r.toChildArray)(t).map(e))},c=(r.toChildArray,r.options.__e);r.options.__e=function(t,e,n,r){if(t.then)for(var o,i=e;i=i.__;)if((o=i.__c)&&o.__c)return null==e.__e&&(e.__e=n.__e,e.__k=n.__k),o.__c(t,e);c(t,e,n,r)};var f=r.options.unmount;function d(t,e,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach((function(t){"function"==typeof t.__c&&t.__c()})),t.__c.__H=null),null!=(t=i({},t)).__c&&(t.__c.__P===n&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map((function(t){return d(t,e,n)}))),t}function p(t,e,n){return t&&n&&(t.__v=null,t.__k=t.__k&&t.__k.map((function(t){return p(t,e,n)})),t.__c&&t.__c.__P===e&&(t.__e&&n.appendChild(t.__e),t.__c.__e=!0,t.__c.__P=n)),t}function v(){this.__u=0,this.t=null,this.__b=null}function m(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function h(){this.u=null,this.o=null}r.options.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&32&t.__u&&(t.type=null),f&&f(t)},(v.prototype=new r.Component).__c=function(t,e){var n=e.__c,r=this;null==r.t&&(r.t=[]),r.t.push(n);var o=m(r.__v),i=!1,a=function(){i||(i=!0,n.__R=null,o?o(s):s())};n.__R=a;var s=function(){if(! --r.__u){if(r.state.__a){var t=r.state.__a;r.__v.__k[0]=p(t,t.__c.__P,t.__c.__O)}var e;for(r.setState({__a:r.__b=null});e=r.t.pop();)e.forceUpdate()}};r.__u++||32&e.__u||r.setState({__a:r.__b=r.__v.__k[0]}),t.then(a,a)},v.prototype.componentWillUnmount=function(){this.t=[]},v.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),o=this.__v.__k[0].__c;this.__v.__k[0]=d(this.__b,n,o.__O=o.__P)}this.__b=null}var i=e.__a&&(0,r.createElement)(r.Fragment,null,t.fallback);return i&&(i.__u&=-33),[(0,r.createElement)(r.Fragment,null,e.__a?null:t.children),i]};var _=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&("t"!==t.props.revealOrder[0]||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};(h.prototype=new r.Component).__a=function(t){var e=this,n=m(e.__v),r=e.o.get(t);return r[0]++,function(o){var i=function(){e.props.revealOrder?(r.push(o),_(e,t,r)):o()};n?n(i):i()}},h.prototype.render=function(t){this.u=null,this.o=new Map;var e=(0,r.toChildArray)(t.children);t.revealOrder&&"b"===t.revealOrder[0]&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},h.prototype.componentDidUpdate=h.prototype.componentDidMount=function(){var t=this;this.o.forEach((function(e,n){_(t,n,e)}))};var y="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,g=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,b=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,S=/[A-Z0-9]/g,w="undefined"!=typeof document,x=function(t){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(t)};r.Component.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(t){Object.defineProperty(r.Component.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})}));var j=r.options.event;function E(){}function k(){return this.cancelBubble}function C(){return this.defaultPrevented}r.options.event=function(t){return j&&(t=j(t)),t.persist=E,t.isPropagationStopped=k,t.isDefaultPrevented=C,t.nativeEvent=t};var O={enumerable:!1,configurable:!0,get:function(){return this.class}},P=r.options.vnode;r.options.vnode=function(t){"string"==typeof t.type&&function(t){var e=t.props,n=t.type,o={};for(var i in e){var a=e[i];if(!("value"===i&&"defaultValue"in e&&null==a||w&&"children"===i&&"noscript"===n||"class"===i||"className"===i)){var s=i.toLowerCase();"defaultValue"===i&&"value"in e&&null==e.value?i="value":"download"===i&&!0===a?a="":"translate"===s&&"no"===a?a=!1:"ondoubleclick"===s?i="ondblclick":"onchange"!==s||"input"!==n&&"textarea"!==n||x(e.type)?"onfocus"===s?i="onfocusin":"onblur"===s?i="onfocusout":b.test(i)?i=s:-1===n.indexOf("-")&&g.test(i)?i=i.replace(S,"-$&").toLowerCase():null===a&&(a=void 0):s=i="oninput","oninput"===s&&o[i=s]&&(i="oninputCapture"),o[i]=a}}"select"==n&&o.multiple&&Array.isArray(o.value)&&(o.value=(0,r.toChildArray)(e.children).forEach((function(t){t.props.selected=-1!=o.value.indexOf(t.props.value)}))),"select"==n&&null!=o.defaultValue&&(o.value=(0,r.toChildArray)(e.children).forEach((function(t){t.props.selected=o.multiple?-1!=o.defaultValue.indexOf(t.props.value):o.defaultValue==t.props.value}))),e.class&&!e.className?(o.class=e.class,Object.defineProperty(o,"className",O)):(e.className&&!e.class||e.class&&e.className)&&(o.class=o.className=e.className),t.props=o}(t),t.$$typeof=y,P&&P(t)};var I=r.options.__r;r.options.__r=function(t){I&&I(t),t.__c};var F=r.options.diffed;r.options.diffed=function(t){F&&F(t);var e=t.props,n=t.__e;null!=n&&"textarea"===t.type&&"value"in e&&e.value!==n.value&&(n.value=null==e.value?"":e.value),null};r.Fragment;o.useLayoutEffect;o.useState,o.useId,o.useReducer,o.useEffect,o.useLayoutEffect,o.useRef,o.useImperativeHandle,o.useMemo,o.useCallback,o.useContext,o.useDebugValue,r.createElement,r.createContext,r.createRef,r.Fragment,r.Component},1520:(t,e,n)=>{n.d(e,{OC:()=>h});var r=n(7320),o=n(2720);function i(){throw new Error("Cycle detected")}var a=Symbol.for("preact-signals");function s(){if(f>1)f--;else{for(var t,e=!1;void 0!==c;){var n=c;for(c=void 0,d++;void 0!==n;){var r=n.o;if(n.o=void 0,n.f&=-3,!(8&n.f)&&_(n))try{n.c()}catch(n){e||(t=n,e=!0)}n=r}}if(d=0,f--,e)throw t}}var l=void 0;var u,c=void 0,f=0,d=0,p=0;function v(t){if(void 0!==l){var e=t.n;if(void 0===e||e.t!==l)return e={i:0,S:t,p:l.s,n:void 0,t:l,e:void 0,x:void 0,r:e},void 0!==l.s&&(l.s.n=e),l.s=e,t.n=e,32&l.f&&t.S(e),e;if(-1===e.i)return e.i=0,void 0!==e.n&&(e.n.p=e.p,void 0!==e.p&&(e.p.n=e.n),e.p=l.s,e.n=void 0,l.s.n=e,l.s=e),e}}function m(t){this.v=t,this.i=0,this.n=void 0,this.t=void 0}function h(t){return new m(t)}function _(t){for(var e=t.s;void 0!==e;e=e.n)if(e.S.i!==e.i||!e.S.h()||e.S.i!==e.i)return!0;return!1}function y(t){for(var e=t.s;void 0!==e;e=e.n){var n=e.S.n;if(void 0!==n&&(e.r=n),e.S.n=e,e.i=-1,void 0===e.n){t.s=e;break}}}function g(t){for(var e=t.s,n=void 0;void 0!==e;){var r=e.p;-1===e.i?(e.S.U(e),void 0!==r&&(r.n=e.n),void 0!==e.n&&(e.n.p=r)):n=e,e.S.n=e.r,void 0!==e.r&&(e.r=void 0),e=r}t.s=n}function b(t){m.call(this,void 0),this.x=t,this.s=void 0,this.g=p-1,this.f=4}function S(t){var e=t.u;if(t.u=void 0,"function"==typeof e){f++;var n=l;l=void 0;try{e()}catch(e){throw t.f&=-2,t.f|=8,w(t),e}finally{l=n,s()}}}function w(t){for(var e=t.s;void 0!==e;e=e.n)e.S.U(e);t.x=void 0,t.s=void 0,S(t)}function x(t){if(l!==this)throw new Error("Out-of-order effect");g(this),l=t,this.f&=-2,8&this.f&&w(this),s()}function j(t){this.x=t,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32}function E(t){var e=new j(t);try{e.c()}catch(t){throw e.d(),t}return e.d.bind(e)}function k(t,e){r.options[t]=e.bind(null,r.options[t]||function(){})}function C(t){u&&u(),u=t&&t.S()}function O(t){var e=this,n=t.data,i=function(t){return(0,o.useMemo)((function(){return h(t)}),[])}(n);i.value=n;var a=(0,o.useMemo)((function(){for(var t=e.__v;t=t.__;)if(t.__c){t.__c.__$f|=4;break}return e.__$u.c=function(){var t;(0,r.isValidElement)(a.peek())||3!==(null==(t=e.base)?void 0:t.nodeType)?(e.__$f|=1,e.setState({})):e.base.data=a.peek()},function(t){return new b(t)}((function(){var t=i.value.value;return 0===t?0:!0===t?"":t||""}))}),[]);return a.value}function P(t,e,n,r){var o=e in t&&void 0===t.ownerSVGElement,i=h(n);return{o:function(t,e){i.value=t,r=e},d:E((function(){var n=i.value.value;r[e]!==n&&(r[e]=n,o?t[e]=n:n?t.setAttribute(e,n):t.removeAttribute(e))}))}}m.prototype.brand=a,m.prototype.h=function(){return!0},m.prototype.S=function(t){this.t!==t&&void 0===t.e&&(t.x=this.t,void 0!==this.t&&(this.t.e=t),this.t=t)},m.prototype.U=function(t){if(void 0!==this.t){var e=t.e,n=t.x;void 0!==e&&(e.x=n,t.e=void 0),void 0!==n&&(n.e=e,t.x=void 0),t===this.t&&(this.t=n)}},m.prototype.subscribe=function(t){var e=this;return E((function(){var n=e.value,r=32&this.f;this.f&=-33;try{t(n)}finally{this.f|=r}}))},m.prototype.valueOf=function(){return this.value},m.prototype.toString=function(){return this.value+""},m.prototype.toJSON=function(){return this.value},m.prototype.peek=function(){return this.v},Object.defineProperty(m.prototype,"value",{get:function(){var t=v(this);return void 0!==t&&(t.i=this.i),this.v},set:function(t){if(l instanceof b&&function(){throw new Error("Computed cannot have side-effects")}(),t!==this.v){d>100&&i(),this.v=t,this.i++,p++,f++;try{for(var e=this.t;void 0!==e;e=e.x)e.t.N()}finally{s()}}}}),(b.prototype=new m).h=function(){if(this.f&=-3,1&this.f)return!1;if(32==(36&this.f))return!0;if(this.f&=-5,this.g===p)return!0;if(this.g=p,this.f|=1,this.i>0&&!_(this))return this.f&=-2,!0;var t=l;try{y(this),l=this;var e=this.x();(16&this.f||this.v!==e||0===this.i)&&(this.v=e,this.f&=-17,this.i++)}catch(t){this.v=t,this.f|=16,this.i++}return l=t,g(this),this.f&=-2,!0},b.prototype.S=function(t){if(void 0===this.t){this.f|=36;for(var e=this.s;void 0!==e;e=e.n)e.S.S(e)}m.prototype.S.call(this,t)},b.prototype.U=function(t){if(void 0!==this.t&&(m.prototype.U.call(this,t),void 0===this.t)){this.f&=-33;for(var e=this.s;void 0!==e;e=e.n)e.S.U(e)}},b.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var t=this.t;void 0!==t;t=t.x)t.t.N()}},b.prototype.peek=function(){if(this.h()||i(),16&this.f)throw this.v;return this.v},Object.defineProperty(b.prototype,"value",{get:function(){1&this.f&&i();var t=v(this);if(this.h(),void 0!==t&&(t.i=this.i),16&this.f)throw this.v;return this.v}}),j.prototype.c=function(){var t=this.S();try{if(8&this.f)return;if(void 0===this.x)return;var e=this.x();"function"==typeof e&&(this.u=e)}finally{t()}},j.prototype.S=function(){1&this.f&&i(),this.f|=1,this.f&=-9,S(this),y(this),f++;var t=l;return l=this,x.bind(this,t)},j.prototype.N=function(){2&this.f||(this.f|=2,this.o=c,c=this)},j.prototype.d=function(){this.f|=8,1&this.f||w(this)},O.displayName="_st",Object.defineProperties(m.prototype,{constructor:{configurable:!0,value:void 0},type:{configurable:!0,value:O},props:{configurable:!0,get:function(){return{data:this}}},__b:{configurable:!0,value:1}}),k("__b",(function(t,e){if("string"==typeof e.type){var n,r=e.props;for(var o in r)if("children"!==o){var i=r[o];i instanceof m&&(n||(e.__np=n={}),n[o]=i,r[o]=i.peek())}}t(e)})),k("__r",(function(t,e){C();var n,r=e.__c;r&&(r.__$f&=-2,void 0===(n=r.__$u)&&(r.__$u=n=function(t){var e;return E((function(){e=this})),e.c=function(){r.__$f|=1,r.setState({})},e}())),r,C(n),t(e)})),k("__e",(function(t,e,n,r){C(),void 0,t(e,n,r)})),k("diffed",(function(t,e){var n;if(C(),void 0,"string"==typeof e.type&&(n=e.__e)){var r=e.__np,o=e.props;if(r){var i=n.U;if(i)for(var a in i){var s=i[a];void 0===s||a in r||(s.d(),i[a]=void 0)}else n.U=i={};for(var l in r){var u=i[l],c=r[l];void 0===u?(u=P(n,l,c,o),i[l]=u):u.o(c,o)}}}t(e)})),k("unmount",(function(t,e){if("string"==typeof e.type){var n=e.__e;if(n){var r=n.U;if(r)for(var o in n.U=void 0,r){var i=r[o];i&&i.d()}}}else{var a=e.__c;if(a){var s=a.__$u;s&&(a.__$u=void 0,s.d())}}t(e)})),k("__h",(function(t,e,n,r){(r<3||9===r)&&(e.__$f|=2),t(e,n,r)})),r.Component.prototype.shouldComponentUpdate=function(t,e){var n=this.__$u;if(!(n&&void 0!==n.s||4&this.__$f))return!0;if(3&this.__$f)return!0;for(var r in e)return!0;for(var o in t)if("__source"!==o&&t[o]!==this.props[o])return!0;for(var i in this.props)if(!(i in t))return!0;return!1}},8884:(t,e,n)=>{n.d(e,{i:()=>r});var r=t=>t.reduce(((t,e)=>{if(!e)return t;if("string"==typeof e&&(t+=" ".concat(e)),Array.isArray(e)){var[n,r]=e;n&&r&&(t+=" ".concat(n))}return t}),"").trim()},9496:(t,e,n)=>{n.d(e,{s:()=>l});var r=n(3584),o=n(3760),i=n(764),a=n(1092);function s(t,e,n,r,o,i,a){try{var s=t[i](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,o)}var l=function(){var t,e=(t=function*(t){if(!t)throw new o.ET;var{data:e,errors:n}=yield(0,r.CA)("\n  query isEmailAvailable($email: String!) {\n    isEmailAvailable(email: $email) {\n      is_email_available\n    }\n  }\n",{method:"GET",cache:"no-cache",variables:{email:t}}).catch(a.i);return n&&(0,i.Y)(n),(t=>Boolean(null==t?void 0:t.is_email_available))(e.isEmailAvailable)},function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){s(i,r,o,a,l,"next",t)}function l(t){s(i,r,o,a,l,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}()},4628:(t,e,n)=>{n.d(e,{S:()=>u});var r=n(3760),o=n(3112),i="\n  mutation setGuestEmail($cartId: String!, $email: String!) {\n    setGuestEmailOnCart(input: { cart_id: $cartId, email: $email }) {\n      cart {\n        id\n        ...CheckoutData\n        ...CartSummaryItems\n      }\n    }\n  }\n  ".concat(o.e2,"\n  ").concat(o.Qz,"\n"),a=n(9120),s=n(6824);function l(t,e,n,r,o,i,a){try{var s=t[i](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,o)}var u=function(){var t,e=(t=function*(t){var{cartId:e,email:n}=t;if(!e)throw new r.Ij;return yield(0,a.m)({type:"mutation",query:i,options:{variables:{cartId:e,email:n}},path:"setGuestEmailOnCart.cart",signalType:"cart",transformer:s.o})},function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){l(i,r,o,a,s,"next",t)}function s(t){l(i,r,o,a,s,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}()},2216:(t,e,n)=>{n.d(e,{_:()=>h});var r=n(5536),o=n.n(r),i=n(7008),a=n.n(i),s=n(1496),l=n.n(s),u=n(9356),c=n.n(u),f=n(9904),d=n.n(f),p=n(7696),v={attributes:{"data-dropin":"storefront-checkout","data-sdk":"0.21.2"}};v.styleTagTransform=function(t,e){setTimeout((()=>{window.window._loadedStyles=window.window._loadedStyles??{};const{core:n,sdk:r}=function(t,e){const n=t?.match(/^\.dropin-(\w+)/)?.[1],r=e.getAttribute("data-sdk");return{core:n,sdk:r}}(t,e),o=n?`sdk/${n}`:e.getAttribute("data-dropin");!function(t,e){t.setAttribute("data-dropin",e),t.removeAttribute("data-sdk")}(e,o);const i=window._loadedStyles[o];i?function(t,e,n,r){const o=function(t,e){const n=t=>{const[e,n]=t.split("-"),[r,o,i]=e.split(".").map(Number),a=n?n.match(/(alpha|beta)(\d*)/):null;return{major:r,minor:o,patch:i,preType:a?a[1]:"",preNumber:a?parseInt(a[2],10):0}},r=n(t),o=n(e);if(r.major!==o.major)return r.major>o.major?t:e;if(r.minor!==o.minor)return r.minor>o.minor?t:e;if(r.patch!==o.patch)return r.patch>o.patch?t:e;if(r.preType&&o.preType)return r.preType===o.preType?r.preNumber>o.preNumber?t:e:"beta"===r.preType?e:t;return r.preType?e:t}(n,r.sdk);if(!r.core||r.core&&o===r.sdk){const e=r.style.textContent;r.style.textContent=`${e}\n/* --- MERGED --- */\n${t}`}else r.core&&o!==r.sdk&&(r.style.textContent=`/* --- UPGRADED --- */\n${t}`);e.remove()}(t,e,r,i):(function(t,e,n,r,o){e.textContent=t,window._loadedStyles[o]={sdk:r,core:n,style:e}}(t,e,n,r,o),function(t,e){const n=document.querySelector("head"),{lastDropinStyleInjected:r,lastSDKStyleInjected:o}=window._loadedStyles;e?(o?n.insertBefore(t,o.nextSibling):n.insertBefore(t,n.firstChild),window._loadedStyles.lastSDKStyleInjected=t):(r?n.insertBefore(t,r.nextSibling):o?n.insertBefore(t,o.nextSibling):n.insertBefore(t,n.firstChild),window._loadedStyles.lastDropinStyleInjected=t)}(e,n))}),0)},v.setAttributes=c(),v.insert=l().bind(null,"head"),v.domAPI=a(),v.insertStyleElement=d();o()(p.c,v);p.c&&p.c.locals&&p.c.locals;var m=n(5092),h=t=>{var{className:e,children:n,level:r=2}=t,o=r>=1&&r<=6?"h".concat(r):"h2";return(0,m.jsx)(o,{className:e,children:n})}},2408:(t,e,n)=>{n.d(e,{u:()=>R});var r=n(9496),o=n(4628),i=n(2216),a=n(8300),s=n(5092),l=()=>(0,s.jsxs)("p",{className:"checkout-login-form__signIn",children:[(0,s.jsx)(a.a,{id:"Checkout.LoginForm.account"}),(0,s.jsx)("a",{className:"checkout-login-form__link",href:"#",target:"_blank",rel:"noreferrer",children:(0,s.jsx)(a.a,{id:"Checkout.LoginForm.signIn"})})]}),u=n(4248),c=n(9400),f=t=>{var{value:e,error:n,hint:r,onChange:o,onBlur:i,onInvalid:l}=t,f=(0,a.cF)({LoginFormLabel:"Checkout.LoginForm.ariaLabel",LoginFormFloatingLabel:"Checkout.LoginForm.floatingLabel",LoginFormPlaceholder:"Checkout.LoginForm.placeholder"});return(0,s.jsx)(u.I,{size:"medium",error:n,hint:r,children:(0,s.jsx)(c.E,{id:"customer-email",name:"userName",type:"email",value:e,autocomplete:"email",placeholder:f.LoginFormPlaceholder,floatingLabel:f.LoginFormFloatingLabel,onChange:o,onBlur:i,onInvalid:l,required:!0,"aria-label":f.LoginFormLabel,"aria-required":!0})})},d=n(5536),p=n.n(d),v=n(7008),m=n.n(v),h=n(1496),_=n.n(h),y=n(9356),g=n.n(y),b=n(9904),S=n.n(b),w=n(6004),x={attributes:{"data-dropin":"storefront-checkout","data-sdk":"0.21.2"}};x.styleTagTransform=function(t,e){setTimeout((()=>{window.window._loadedStyles=window.window._loadedStyles??{};const{core:n,sdk:r}=function(t,e){const n=t?.match(/^\.dropin-(\w+)/)?.[1],r=e.getAttribute("data-sdk");return{core:n,sdk:r}}(t,e),o=n?`sdk/${n}`:e.getAttribute("data-dropin");!function(t,e){t.setAttribute("data-dropin",e),t.removeAttribute("data-sdk")}(e,o);const i=window._loadedStyles[o];i?function(t,e,n,r){const o=function(t,e){const n=t=>{const[e,n]=t.split("-"),[r,o,i]=e.split(".").map(Number),a=n?n.match(/(alpha|beta)(\d*)/):null;return{major:r,minor:o,patch:i,preType:a?a[1]:"",preNumber:a?parseInt(a[2],10):0}},r=n(t),o=n(e);if(r.major!==o.major)return r.major>o.major?t:e;if(r.minor!==o.minor)return r.minor>o.minor?t:e;if(r.patch!==o.patch)return r.patch>o.patch?t:e;if(r.preType&&o.preType)return r.preType===o.preType?r.preNumber>o.preNumber?t:e:"beta"===r.preType?e:t;return r.preType?e:t}(n,r.sdk);if(!r.core||r.core&&o===r.sdk){const e=r.style.textContent;r.style.textContent=`${e}\n/* --- MERGED --- */\n${t}`}else r.core&&o!==r.sdk&&(r.style.textContent=`/* --- UPGRADED --- */\n${t}`);e.remove()}(t,e,r,i):(function(t,e,n,r,o){e.textContent=t,window._loadedStyles[o]={sdk:r,core:n,style:e}}(t,e,n,r,o),function(t,e){const n=document.querySelector("head"),{lastDropinStyleInjected:r,lastSDKStyleInjected:o}=window._loadedStyles;e?(o?n.insertBefore(t,o.nextSibling):n.insertBefore(t,n.firstChild),window._loadedStyles.lastSDKStyleInjected=t):(r?n.insertBefore(t,r.nextSibling):o?n.insertBefore(t,o.nextSibling):n.insertBefore(t,n.firstChild),window._loadedStyles.lastDropinStyleInjected=t)}(e,n))}),0)},x.setAttributes=g(),x.insert=_().bind(null,"head"),x.domAPI=m(),x.insertStyleElement=S();p()(w.c,x);w.c&&w.c.locals&&w.c.locals;var j=n(8884),E=["name","className","currentEmail","hint","error","onEmailChange","onEmailBlur","onEmailInvalid"];function k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function C(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?k(Object(n),!0).forEach((function(e){O(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function O(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var I=t=>{var{name:e,className:n,currentEmail:r,hint:o,error:u=null,onEmailChange:c,onEmailBlur:d,onEmailInvalid:p}=t,v=P(t,E),m=(0,a.cF)({Title:"Checkout.LoginForm.title"});return(0,s.jsxs)("div",C(C({},v),{},{className:(0,j.i)(["checkout-login-form",n]),children:[(0,s.jsxs)("div",{className:"checkout-login-form__heading",children:[(0,s.jsx)(i._,{level:2,className:"checkout-login-form__title",children:m.Title}),(0,s.jsx)(l,{})]}),(0,s.jsx)("div",{className:"checkout-login-form__content",children:(0,s.jsxs)("form",{className:(0,j.i)(["dropin-login-form__form",n]),name:e,noValidate:!0,children:[(0,s.jsx)("button",{type:"submit",disabled:!0,style:"display: none","aria-hidden":"true"}),(0,s.jsx)(f,{value:r||void 0,error:u||"",hint:o,onChange:c,onBlur:d,onInvalid:p})]})})]}))},F=n(2720),L=n(2248),N=n(5668),A=["className","email"];function T(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function $(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var R=t=>{var{className:e,email:n=null}=t,i=D(t,A),l=(0,a.cF)({LoginFormInvalidEmailError:"Checkout.LoginForm.invalidEmailError",LoginFormMissingEmailError:"Checkout.LoginForm.missingEmailError",LoginFormEmailExists:"Checkout.LoginForm.emailExists"}),{data:u}=N.cartSignal.value,c=(null==u?void 0:u.id)||"",f=!!u,[d,p]=(0,F.useState)(!1),[v,m]=(0,F.useState)(n),[h,_]=(0,F.useState)(),[y,g]=(0,F.useState)(!0),b=t=>t.valid?null:t.valueMissing?l.LoginFormMissingEmailError:l.LoginFormInvalidEmailError;return!d&&f&&(p(!0),m((null==u?void 0:u.email)||n)),(0,F.useEffect)((()=>{if(v&&!h&&(null==u?void 0:u.email)!==v){var t=setTimeout((()=>{(0,r.s)(v).then((t=>{g(t),(0,o.S)({cartId:c,email:v}).catch((t=>{console.log("set email failed",t)}))})).catch((t=>{console.log(t),_(l.LoginFormInvalidEmailError),g(!0)}))}),1e3);return()=>{t&&clearTimeout(t)}}}),[v,h,l.LoginFormInvalidEmailError,null==u?void 0:u.email,c]),(0,s.jsx)(I,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?T(Object(n),!0).forEach((function(e){$(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({className:e,currentEmail:v,error:h,hint:y?"":l.LoginFormEmailExists,name:L.i,onEmailBlur:t=>{var{validity:e}=t.target;_(b(e))},onEmailChange:t=>{var{value:e}=t.target;m(e),_(null),g(!0)},onEmailInvalid:t=>{var{validity:e}=t.target;_(b(e))}},i))}},2248:(t,e,n)=>{n.d(e,{i:()=>r});var r="login-form"},5600:(t,e,n)=>{n.d(e,{cp:()=>o.u,iO:()=>r.i,uY:()=>o.u});var r=n(2248),o=n(2408)},7696:(t,e,n)=>{n.d(e,{c:()=>s});var r=n(6008),o=n.n(r),i=n(2076),a=n.n(i)()(o());a.push([t.id,"\n",""]);const s=a},6004:(t,e,n)=>{n.d(e,{c:()=>s});var r=n(6008),o=n.n(r),i=n(2076),a=n.n(i)()(o());a.push([t.id,".checkout-login-form{\n    display:grid;\n}\n\n.checkout-login-form__heading{\n    display:grid;\n    grid-template-columns:repeat(2, 1fr [col-start]);\n    grid-auto-rows:max-content;\n}\n\n.checkout-login-form__content{\n    grid-auto-rows:max-content;\n}\n\n.checkout-login-form__title{\n    grid-column-start:1;\n    color:var(--color-neutral-800);\n    font:var(--type-headline-2-default-font);\n    letter-spacing:var(--type-headline-2-default-letter-spacing);\n    margin:0;\n}\n\n.checkout-login-form__signIn{\n    grid-column-start:2;\n    color:var(--color-neutral-800);\n    font:var(--type-body-2-default-font);\n    letter-spacing:var(--type-body-2-default-letter-spacing);\n    margin-bottom:var(--spacing-medium);\n    align-self:flex-end;\n    justify-self:flex-end;\n    margin-top:var(--spacing-xxsmall);\n}\n\na.checkout-login-form__link{\n    font:var(--type-body-2-strong-font);\n    margin-left:var(--spacing-xxsmall);\n}\n@media only screen and (min-width:320px) and (max-width: 768px){\n    .checkout-login-form__heading{\n        grid-template-columns:repeat(1, 1fr [col-start]);\n        grid-template-rows:1fr;\n    }\n\n    .checkout-login-form__signIn{\n        grid-column-start:1;\n        align-self:flex-start;\n        justify-self:flex-start;\n        padding-top:var(--spacing-xsmall);\n    }\n}\n",""]);const s=a},8122:(e,n,r)=>{e.exports=(t=>{var e={};return r.d(e,t),e})({events:()=>t.events})},8616:(t,n,r)=>{t.exports=(t=>{var e={};return r.d(e,t),e})({FetchGraphQL:()=>e.FetchGraphQL})},6528:(t,e,r)=>{t.exports=(t=>{var e={};return r.d(e,t),e})({Suspense:()=>n.Suspense,createContext:()=>n.createContext,forwardRef:()=>n.forwardRef,lazy:()=>n.lazy,useCallback:()=>n.useCallback,useContext:()=>n.useContext,useEffect:()=>n.useEffect,useImperativeHandle:()=>n.useImperativeHandle,useMemo:()=>n.useMemo,useRef:()=>n.useRef,useState:()=>n.useState})},2720:(t,e,n)=>{t.exports=(t=>{var e={};return n.d(e,t),e})({useCallback:()=>r.useCallback,useContext:()=>r.useContext,useDebugValue:()=>r.useDebugValue,useEffect:()=>r.useEffect,useId:()=>r.useId,useImperativeHandle:()=>r.useImperativeHandle,useLayoutEffect:()=>r.useLayoutEffect,useMemo:()=>r.useMemo,useReducer:()=>r.useReducer,useRef:()=>r.useRef,useState:()=>r.useState})},6168:(t,e,n)=>{t.exports=(t=>{var e={};return n.d(e,t),e})({Fragment:()=>o.Fragment,jsx:()=>o.jsx,jsxs:()=>o.jsxs})},7320:(t,e,n)=>{t.exports=(t=>{var e={};return n.d(e,t),e})({Component:()=>i.Component,Fragment:()=>i.Fragment,cloneElement:()=>i.cloneElement,createContext:()=>i.createContext,createElement:()=>i.createElement,createRef:()=>i.createRef,h:()=>i.h,hydrate:()=>i.hydrate,isValidElement:()=>i.isValidElement,options:()=>i.options,render:()=>i.render,toChildArray:()=>i.toChildArray})}};import a from"../runtime.js";import*as s from"../6472.js";a.C(s);import*as l from"../8668.js";a.C(l);import*as u from"../5068.js";a.C(u);import*as c from"../7940.js";a.C(c);import*as f from"./LoginForm.js";a.C(f);var d,p=(d=5600,a(a.s=d)),v=p.iO,m=p.uY,h=p.cp;export{v as LOGIN_FORM_NAME,m as LoginForm,h as default};